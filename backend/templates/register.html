{% extends "auth_base.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
{% endblock %}

{% block content %}
<div class="auth-page">

  <div class="auth-card">

    <!-- Header -->
    <div class="auth-header">
      <h1 class="auth-welcome">إنشاء حساب جديد</h1>
      <p class="auth-description">
        أنشئ حسابك الآن وابدأ بإدارة مخزونك وبياناتك الخاصة.
      </p>
      <p class="auth-subtitle">
        الرجاء تعبئة البيانات التالية
      </p>
    </div>

    <!-- Flash Messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="alert alert-{{ category }}" role="alert">
            {{ message }}
          </div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- Form -->
    <div class="auth-body">
      <form method="POST" action="{{ url_for('auth.register') }}" novalidate>

        <!-- CSRF -->
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

        <div class="mb-3">
          <label for="email" class="form-label">البريد الإلكتروني</label>
          <input
            id="email"
            type="email"
            name="email"
            class="form-control"
            placeholder="name@example.com"
            required
            autocomplete="email"
          />
        </div>

        <div class="mb-3">
          <label for="password" class="form-label">كلمة المرور</label>
          <input
            id="password"
            type="password"
            name="password"
            class="form-control"
            placeholder="••••••••"
            required
            minlength="8"
            autocomplete="new-password"
          />
        </div>

        <div class="mb-3">
          <label for="confirm_password" class="form-label">تأكيد كلمة المرور</label>
          <input
            id="confirm_password"
            type="password"
            name="confirm_password"
            class="form-control"
            placeholder="••••••••"
            required
            minlength="8"
            autocomplete="new-password"
          />
        </div>

        <button type="submit" class="btn-auth">
          إنشاء الحساب
        </button>

      </form>
    </div>

    <!-- Footer -->
    <div class="text-center mt-3">
      <small class="text-muted">
        لديك حساب بالفعل؟
        <a href="{{ url_for('auth.login') }}">تسجيل الدخول</a>
      </small>
    </div>

  </div>

</div>
{% endblock %}
